/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     public int val;
 *     public ListNode next;
 *     public ListNode(int val=0, ListNode next=null) {
 *         this.val = val;
 *         this.next = next;
 *     }
 * }
 */
public class Solution {
    public int[][] SpiralMatrix(int m, int n, ListNode head) {
        int[][] mat = new int[m][];

        for(int i=0; i<m; i++) {
            mat[i] = new int[n];

            for(int j=0; j<n; j++) {
                mat[i][j] = -1;
            }
        }

        int left = 0, right = n-1, top = 0, bottom = m-1;
        ListNode curr = head;

        while(curr != null) {
            
            // top - left to right
            for(int j=left; j<=right; j++) {
                if(curr != null) {
                    mat[top][j] = curr.val;
                    curr = curr.next;
                }
                else {
                    return mat;
                }
            }
            
            top++; // 1

            // right - top to bottom
            for(int i=top; i<=bottom; i++) {
                if(curr != null) {
                    mat[i][right] = curr.val;
                    curr = curr.next;
                }
                else {
                    return mat;
                }
            }

            right--; // 3

            // bottom - right to left
            for(int j=right; j>=left; j--) {
                if(curr != null) {
                    mat[bottom][j] = curr.val;
                    curr = curr.next; 
                }
                else {
                    return mat;
                }
            }

            bottom--; // 1

            // left - bottom to top
            for(int i=bottom; i >= top; i--) {
                if(curr != null) {
                    mat[i][left] = curr.val;
                    curr = curr.next;
                }
                else {
                    return mat;
                }
            }

            left++; // 1
        }

        return mat;
    }
}
