public class Solution {
    public IList<IList<int>> AllPathsSourceTarget(int[][] graph) {
        int len = graph.Length;
        var path = new List<int>();
        path.Add(0);
        Queue<List<int>> bfs = new ();
        bfs.Enqueue(path);
        IList<IList<int>> allPaths = new List<IList<int>>();
        
        while(bfs.Count > 0){
            var tempPath = bfs.Dequeue();
            int current = tempPath[tempPath.Count -1];
            if(current == (len -1)) allPaths.Add(new List<int>(tempPath) );
            foreach(int node in graph[current]){
                var newPath = new List<int>(tempPath);
                newPath.Add(node);
                bfs.Enqueue(newPath);
            }
        }

        return allPaths;
    }

}
