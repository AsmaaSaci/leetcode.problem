public class Solution {
    public string LargestPalindromic(string num) 
    {
        int[] freq = new int[10];
        foreach(char c in num)
            freq[c-'0']++;
        StringBuilder left = new StringBuilder();
        int mid = -1;
        for(int d=9; d>=0; d--)
        {
            if(freq[d]%2 == 1 &&  mid == -1)
                mid = d;    // choose the largest odd digit as middle
            
            for(int i =0; i< freq[d]/2; i++)
                left.Append(d);
        }

        // Remove leading zeros
        string leftStr = left.ToString().TrimStart('0');
        if(leftStr.Length == 0 && mid == -1)
            return "0";
        
        string right = new string(leftStr.Reverse().ToArray());
        string middle  = mid == -1 ? "" : mid.ToString();
        return leftStr + middle + right;
    }
}
