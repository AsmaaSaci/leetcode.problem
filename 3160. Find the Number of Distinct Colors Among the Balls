public class Solution {
    public int[] QueryResults(int limit, int[][] queries) {
         Dictionary<int, int> ballColors = new Dictionary<int, int>(); // Maps ball index to color
 Dictionary<int, int> colorCount = new Dictionary<int, int>(); // Maps color to the count of balls with that color
 int[] result = new int[queries.Length];

 for (int i = 0; i < queries.Length; i++)
 {
     int ball = queries[i][0];
     int color = queries[i][1];

     // If the ball already has a color, update the color count
     if (ballColors.ContainsKey(ball))
     {
         int oldColor = ballColors[ball];
         colorCount[oldColor]--; // Decrease the count of the old color
                                 // If no balls are left with the old color, remove it from the count
         if (colorCount[oldColor] == 0)
         {
             colorCount.Remove(oldColor);
         }
     }

     // Assign the new color to the ball
     ballColors[ball] = color;
     if (colorCount.ContainsKey(color))
     {
         colorCount[color]++; // Increase the count of the new color
     }
     else
     {
         colorCount[color] = 1; // Initialize the count for the new color
     }

     // Store the number of distinct colors after this query
     result[i] = colorCount.Count;
 }

 return result;
    }
}
