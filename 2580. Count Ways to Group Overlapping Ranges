public class Solution {
    public int CountWays(int[][] ranges) {

        if (ranges.Count() == 1) return 2;

        Array.Sort(ranges, (a,b) => a[0].CompareTo(b[0]));
        var n = 1;
        var end = ranges[0][1];
        foreach(var r in ranges)
        {
            if(r[0] <= end)  //no overlap
            {
                end = Math.Max(end, r[1]);
            }
            else
            {
                n++;
                end = r[1];
            }
        }
        var mod = 1000000007;
        var ways =  BigInteger.ModPow(2, n,mod) ;

        return (int)ways;

    }
}
