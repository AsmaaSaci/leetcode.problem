public class Solution {
    public int TotalSteps(int[] nums) {

        int maxSteps = 0;
        int totalCount = nums.Length;
        Stack<Tuple<int,int>> stack = new Stack<Tuple<int, int>>();

        // Push the last element to stack for comparison
        stack.Push(Tuple.Create(nums[totalCount - 1] , 0));

        // Iterate from right to left
        for(int i = totalCount - 2; i >= 0 ; i--)
        {
            int currentSteps = 0;
            // Check each current element with previous number
            while(stack.Count > 0 && nums[i] > stack.Peek().Item1)
            {
                // Take maximum from Incremented current step and previous step count
                currentSteps = Math.Max(currentSteps +1, stack.Pop().Item2);
            }

            stack.Push(Tuple.Create(nums[i] , currentSteps));
            maxSteps = Math.Max(maxSteps, currentSteps);
        }

        return maxSteps;
     
    }
}
