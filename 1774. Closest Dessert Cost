public class Solution {
    private int[] res;
    private int lenT;
    private void DFS(int sum, int idx, int[] toppingCosts, int target)
    {
        if(sum >= target)
        {
            if(sum-target < res[1])
                res = [sum, sum-target];

            return;
        }

        if(idx >= lenT)
        {
            if(target - sum <= res[1])
                res = [sum, target-sum];

            return;
        }


        if(target - sum <= res[1])
            res = [sum, target-sum];

        DFS(sum+toppingCosts[idx], idx+1, toppingCosts, target);
        DFS(sum+toppingCosts[idx]*2, idx+1, toppingCosts, target);

        // Skip current topping:
        DFS(sum, idx+1, toppingCosts, target);
    }
    public int ClosestCost(int[] baseCosts, int[] toppingCosts, int target) {
        res = [int.MaxValue, int.MaxValue];
        int lenB = baseCosts.Length;
        lenT = toppingCosts.Length;

        Array.Sort(baseCosts);

        for(int i = 0; i < lenB; i++)
        {
            int sum = baseCosts[i];
            if(sum >= target)
            {
                if(sum-target < res[1])
                    res = [sum, sum-target];

                continue;
            }

            DFS(sum, 0, toppingCosts, target);
        }
        
        return res[0];
    }
}
