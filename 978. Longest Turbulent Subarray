public class Solution {
    public int MaxTurbulenceSize(int[] arr) {
        if(arr.Length < 2) return 1;
        int ans = 1,
            trail = 0,
            prev = 0;
        for(int i = 1;i<arr.Length;i++){
            int curr = arr[i] == arr[i-1] ? 0 : arr[i] > arr[i-1] ? 1 : -1;
            if(curr == 0){
                ans = Math.Max(ans, i-trail);
                prev = 0;
                trail = i;
            }
            else{
                if(curr == prev){
                    ans = Math.Max(ans, i-trail);
                    trail = i-1;
                }
                prev = curr;
            }
        }
        return Math.Max(ans, arr.Length-trail);
    }
}
