public bool HasAllCodes(string s, int k) {
            int n = 1 << k, greatest = n - 1; ;
            bool[] exists = new bool[n];
            for(int i = 0, val = 0; i < s.Length; i++)
            {
                val = ((val << 1) & greatest) + s[i] - '0';

                if (i >= k - 1) exists[val] = true;
            }

            return exists.All(a => a);        
    }
