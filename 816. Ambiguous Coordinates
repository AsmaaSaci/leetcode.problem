public class Solution {
    public IList<string> AmbiguousCoordinates(string s) 
    {
        var chars = s.ToCharArray();

        var r = new List<string>();

        for(var i = 2; i < s.Length - 1; i++)
        {
            var l2 = GetCoordinates(s, chars, i, s.Length-1);

            if(l2.Any())
            {
                foreach(var d1 in GetCoordinates(s, chars, 1, i))
                    foreach(var d2 in l2)
                        r.Add($"({d1}, {d2})");
            }
        }

        return r;
    }

    List<string> GetCoordinates(string s, char[] chars, int l, int r)
    {
        List<string> list = new ();

        var len = r - l;

        if(len == 1) // there is only one integer variant with length = 1
        {
            list.Add(s[l..r]);

            return list;
        }

        if(s[l] != '0') // wide integers should not start with zero
        {
            list.Add(s[l..r]);
        }

        if(s[r-1] != '0') // decimal should not end with zero
        {
            if(s[l] == '0') // for leading zero is only one decimal variant
            {
                list.Add("0." + s[(l+1)..r]);
            }
            else
            {
                var ch = chars[l..(r+1)]; // get extra space at the end for '.'

                ch[^1] = '.'; // will swap '.' towards head and create variants

                for(var i=ch.Length-1; i>1; i--)
                {
                    (ch[i], ch[i-1]) = (ch[i-1], ch[i]);

                    list.Add(new string(ch));
                }
            }
        }

        return list;
    }
}
