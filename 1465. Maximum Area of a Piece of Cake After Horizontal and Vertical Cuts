public class Solution
{
    public int MaxArea(int h, int w, int[] horizontalCuts, int[] verticalCuts)
    {
        long maxWidth = GetMax(h, horizontalCuts);
        long maxHeight = GetMax(w, verticalCuts);
        return (int) (maxWidth * maxHeight % 1000000007);

        static long GetMax(int length, int[] cuts)
        {
            Array.Sort(cuts);
            int max = Math.Max(cuts[0], length - cuts[^1]);
            for (int index = 1; index < cuts.Length; index++)
            {
                max = Math.Max(cuts[index] - cuts[index - 1], max);
            }

            return max;
        }
    }
}
